{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="form-wrapper">
    <div class="form-container">
        <h2 class="mb-4">Edit Reservation</h2>
        <form method="post" action="{% url 'edit_reservation' reservation.id %}">
            {% csrf_token %}

            <!-- Guest Count -->
            <div class="form-group">
                <label for="id_guest_count">Guest Count</label>
                <select name="guest_count" id="id_guest_count" class="form-control">
                    {% for i in guest_count_range %}
                    <option value="{{ i }}" {% if form.initial.guest_count == i %}selected{% endif %}>
                        {{ i }}
                    </option>
                    {% endfor %}
                </select>
            </div>

            <!-- Reservation Date -->
            <div class="form-group">
                <label for="id_reservation_date">Reservation Date</label>
                <input type="date" name="reservation_date" id="id_reservation_date" 
                       class="form-control" 
                       min="{{ today }}" 
                       value="{{ form.initial.reservation_date }}">
            </div>

            <!-- Reservation Time -->
            <div class="form-group">
                <label for="id_reservation_time">Reservation Time</label>
                <select name="reservation_time" id="id_reservation_time" class="form-control">
                    {% for slot in time_slots %}
                    <option value="{{ slot }}" {% if form.initial.reservation_time|date:"H:i" == slot %}selected{% endif %}>
                        {{ slot }}
                    </option>
                    {% endfor %}
                </select>
            </div>

            <!-- Buttons -->
            <div class="form-actions">
                <button type="submit" class="btn btn-primary">Save Changes</button>
                <a href="{% url 'dashboard' %}" class="btn btn-secondary">Cancel</a>
            </div>
        </form>
    </div>
</div>
{% endblock %}
